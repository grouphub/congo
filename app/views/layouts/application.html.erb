<!DOCTYPE html>
<html ng-app="congoApp">
  <head>
    <base href="/">
    <title>GroupHub</title>
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <%= stylesheet_link_tag 'application', media: 'all' %>
    <%= javascript_include_tag 'application' %>
    <%= csrf_meta_tags %>

    <script>
      window.congo.flashes = <%= raw(flashes_json) %>;
      window.congo.currentUser = <%= current_user ? raw(render_user(current_user).to_json) : 'null' %>;
    </script>

    <%= render partial: 'layouts/google_analytics' %>
  </head>

  <body id="main" ng-class="{loading: loading}" ng-controller="MainController">
    <div id="wrapper" ng-class="currentRole() && !isDrawerShown() ? '' : 'toggled'">
      <div id="sidebar-wrapper">
        <%= render partial: 'layouts/sidebar' %>
      </div>

      <div id="page-content-wrapper">
        <%= render partial: 'layouts/navbar' %>
        <%= render partial: 'layouts/alerts' %>

        <main>
          <%= yield %>

          <%= render partial: 'layouts/footer' %>
        </main>

        <div id="spinner-container">
          <div class="spinner"></div>
        </div>
      </div>
    </div>

    <!-- Modals -->
    <eligibility-modal></eligibility-modal>
    <review-application-modal></review-application-modal>
    <enrollment-status-modal></enrollment-status-modal>
    <description-modal></description-modal>
  </body>
</html>

