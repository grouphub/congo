<div id="enrollment-form" class="col-md-12">
  <form name="applicationForm" ng-submit="apply()">
    <div id="enrollment-form" class="row ng-scope">
      <div class="col-md-12">
        <h1>Benefits Enrollment Application</h1>

        <div class="box box-warning" name="subscriber">
          <div class="box-header">
            <h3 class="box-title">Primary Applicant</h3>
          </div>

          <div class="box-body">
            <div class="row">
              <div class="form-group col-sm-4">
                <label class="control-label">First Name</label>
                <input type="text" class="form-control" name="first_name" ng-model="application.first_name" placeholder="First Name">
              </div>

              <div class="form-group col-sm-3">
                <label class="control-label">Middle Name</label>
                <input type="text" class="form-control" name="middle_name" ng-model="application.middle_name" placeholder="Middle Name">
              </div>

              <div class="form-group col-sm-5">
                <label class="control-label">Last Name</label>
                <input type="text" class="form-control" name="last_name" ng-model="application.last_name" placeholder="Last Name">
              </div>

              <div class="form-group col-sm-12">
                <label class="control-label">Sex</label>
                <fieldset>
                  <label class="radio-inline">
                    <input type="radio" name="sex_indicate" value="Male" ng-model="application.sex_indicate">
                    Male
                  </label>
                  <label class="radio-inline">
                    <input type="radio" name="sex_indicate" value="Female" ng-model="application.sex_indicate">
                    Female
                  </label>
                </fieldset>
              </div>

              <div class="form-group col-sm-6">
                <label class="control-label">Social Security Number</label>
                <input type="password" name="social_security_number" class="form-control" ng-model="application.social_security_number" placeholder="Social Security Number">
              </div>

              <div class="form-group col-sm-6">
                <label class="control-label">Date of Birth (mm/dd/yyyy)</label>
                <input type="text" name="date_of_birth" class="form-control" ng-model="application.date_of_birth" placeholder="Date of Birth (mm/dd/yyyy)">
              </div>

              <div class="form-group col-sm-12">
                <label class="control-label">Employment Status</label>
                <select class="form-control" name="employment_status" ng-model="application.employment_status">
                  <option ng-repeat="employmentStatus in employmentStatuses" value="{{employmentStatus}}">{{employmentStatus}}</option>
                </select>
              </div>
            </div>
          </div>
        </div>

        <div class="box box-warning" name="subscriberContact">
          <div class="box-header">
            <h3 class="box-title">Contact Information</h3>
          </div>

          <div class="box-body">
            <div class="row">
              <div class="form-group col-sm-9">
                <label class="control-label">Street Address</label>
                <input type="text" name="street_address" class="form-control" placeholder="Street Address" ng-model="application.street_address">
              </div>

              <div class="form-group col-sm-3">
                <label class="control-label">Apt. #</label>
                <input type="text" class="form-control" name="apartment_number" placeholder="Apt. #" ng-model="application.apartment_number">
              </div>

              <div class="form-group col-sm-6">
                <label class="control-label">City</label>
                <input type="text" name="city" class="form-control" placeholder="City" ng-model="application.city">
              </div>

              <div class="form-group col-sm-3">
                <label class="control-label">State</label>
                <input type="text" name="state" class="form-control" placeholder="State" ng-model="application.state">
              </div>

              <div class="form-group col-sm-3">
                <label class="control-label">ZIP</label>
                <input type="text" name="zip" class="form-control" placeholder="ZIP" ng-model="application.zip">
              </div>

              <div class="form-group col-sm-12">
                <label class="control-label">County</label>
                <input type="text" name="county" class="form-control" placeholder="County" ng-model="application.county">
              </div>

              <div class="form-group col-sm-6">
                <label class="control-label">Phone</label>
                <input type="tel" name="phone" class="form-control" placeholder="Phone" ng-model="application.phone">
              </div>

              <div class="form-group col-sm-6">
                <label class="control-label">Phone Type</label>
                <input type="tel" name="phone_type" class="form-control" placeholder="Phone Type" value="Home" ng-model="application.phone_type">
              </div>

              <div class="form-group col-sm-6">
                <label class="control-label">Other Phone</label>
                <input type="tel" name="other_phone" class="form-control" placeholder="Other Phone" ng-model="application.other_phone">
              </div>

              <div class="form-group col-sm-6">
                <label class="control-label">Other Phone Type</label>
                <input type="tel" name="other_phone_type" class="form-control" placeholder="Other Phone Type" value="Cell" ng-model="application.other_phone_type">
              </div>
            </div>
          </div>
        </div>

        <div class="box box-warning" name="previousCoverage">
          <div class="box-header">
            <h3 class="box-title">Previous Coverage</h3>
          </div>

          <div class="box-body">
            <!-- TODO: Check this -->
            <div class="form-group">
              <label class="control-label">Have you previously had insurance coverage?</label>
              <fieldset>
                <label class="radio-inline">
                  <input type="radio" name="coverage_experience" value="Yes" ng-model="form.previousCoverage">
                  Yes
                </label>
                <label class="radio-inline">
                  <input type="radio" name="coverage_experience" value="No" ng-model="form.previousCoverage">
                  No
                </label>
              </fieldset>
            </div>

            <div class="form-group" ng-if="form.previousCoverage === 'Yes'">
              <label class="control-label">Medical record # (If Any)</label>
              <input type="text" name="medical_record_number" class="form-control" ng-model="application.medical_record_number" placeholder="Medical Record # (If Any)">
            </div>

            <div class="form-group" ng-if="form.previousCoverage === 'Yes'">
              <label class="control-label">If Yes, Most Recent Insurance Carrier</label>
              <input type="text" name="if_yes_most_recent_insurance_carrier" class="form-control" ng-model="application.if_yes_most_recent_insurance_carrier" placeholder="If Yes, Most Recent Insurance Carrier">
            </div>

            <div class="form-group" ng-if="form.previousCoverage === 'Yes'">
              <label class="control-label">Dates of Coverage</label>
              <input type="text" name="dates_of_coverage" class="form-control" ng-model="application.dates_of_coverage" placeholder="Dates of Coverage">
            </div>
          </div>
        </div>

        <div class="box box-warning" name="dependents">
          <div class="box box-warning">
            <div class="box-header">
              <h3 class="box-title">Dependents to be Covered</h3>
            </div>

            <div class="box-body">
              <div class="dependent" ng-repeat="i in getNumber(form.numberOfDependents)">
                <h4 class="text-center">Dependent {{$index + 1}}</h4>

                <div class="row">
                  <div class="form-group col-sm-4">
                    <label class="control-label">First Name</label>
                    <input type="text" name="dependent_{{$index + 1}}_first_name" class="form-control" ng-model="application['dependent_' + ($index + 1) + '_first_name']" placeholder="First Name">
                  </div>

                  <div class="form-group col-sm-3">
                    <label class="control-label">Middle Name</label>
                    <input type="text" name="dependent_{{$index + 1}}_middle_name" class="form-control" placeholder="Middle Name">
                  </div>

                  <div class="form-group col-sm-5">
                    <label class="control-label">Last Name</label>
                    <input type="text" name="dependent_{{$index + 1}}_last_name" class="form-control" placeholder="Last Name">
                  </div>

                  <div class="form-group col-sm-12">
                    <label class="control-label">Sex</label>
                    <fieldset>
                      <label class="radio-inline">
                        <input type="radio" name="dependent_{{$index + 1}}_sex_indicate" value="Male">
                        Male
                      </label>

                      <label class="radio-inline">
                        <input type="radio" name="dependent_{{$index + 1}}_sex_indicate" value="Female">
                        Female
                      </label>
                    </fieldset>
                  </div>

                  <div class="form-group col-sm-12">
                    <label class="control-label">Relationship to Applicant</label>
                    <select class="form-control" name="dependent_{{$index + 1}}_relationship">
                      <option ng-repeat="relationship in relationships" value="{{relationship}}">{{relationship}}</option>
                    </select>
                  </div>

                  <div class="form-group col-sm-12">
                    <label class="control-label">Medical Record # (If Any)</label>
                    <input type="text" name="dependent_{{$index + 1}}_medical_record_number_if_any" class="form-control" placeholder="Medical Record # (If Any)">
                  </div>

                  <div class="form-group col-sm-6">
                    <label class="control-label">Social Security Number</label>
                    <input type="text" name="dependent_{{$index + 1}}_social_security_number" class="form-control" placeholder="Social Security Number">
                  </div>

                  <div class="form-group col-sm-6">
                    <label class="control-label">Date of Birth (mm/dd/yyyy)</label>
                    <input type="text" name="dependent_{{$index + 1}}_date_of_birth" class="form-control" placeholder="Date of Birth (mm/dd/yyyy)">
                  </div>

                  <div class="form-group col-sm-12">
                    <label class="control-label">Has this dependent previously had insurance coverage?</label>
                    <fieldset>
                      <label class="radio-inline">
                        <input type="radio" name="dependent_{{$index + 1}}_coverage_experience" value="Yes" ng-model="form.dependents[$index].previousCoverage">
                        Yes
                      </label>
                      <label class="radio-inline">
                        <input type="radio" name="dependent_{{$index + 1}}_coverage_experience" value="No" ng-model="form.dependents[$index].previousCoverage">
                        No
                      </label>
                    </fieldset>
                  </div>

                  <div class="form-group col-sm-12" ng-if="form.dependents[$index].previousCoverage === 'Yes'">
                    <label class="control-label">If Yes, Most Recent Insurance Carrier</label>
                    <input type="text" name="dependent_{{$index + 1}}_if_yes_most_recent_insurance_carrier" class="form-control" placeholder="If Yes, Most Recent Insurance Carrier">
                  </div>

                  <div class="form-group col-sm-12" ng-if="form.dependents[$index].previousCoverage === 'Yes'">
                    <label class="control-label">Dates of Coverage</label>
                    <input type="text" name="dependent_{{$index + 1}}_dates_of_coverage" class="form-control" placeholder="Dates of Coverage">
                  </div>
                </div>

                <hr>
              </div>

              <div class="notes">
                <p>All members must reside in our California service area.</p>

                <a href="" class="btn btn-default" ng-click="addDependent()">Add Dependent</a>
                <a href="" class="btn btn-danger" ng-if="form.numberOfDependents > 0" ng-click="removeDependent()">Remove Dependent</a>
              </div>
            </div>
          </div>
        </div>

        <input type="submit" class="btn btn-primary" ng-click="submit()" value="Apply">
      </div>
    </div>
  </form>
</div>

